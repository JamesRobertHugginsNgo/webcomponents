{"version":3,"sources":["scripts/custom-element.min.js"],"names":["style","document","createElement","appendChild","createTextNode","head","sheet","insertRule","counter","clickHandler","event","newElement","currentNode","target","parentNode","siblingNode","nextSibling","insertBefore","created","element","ready","addEventListener","appended","window","on","querySelectorAll","forEach"],"mappings":"AAAA,cAEA,WAEC,IAAIA,EAAQC,SAASC,cAAc,SACnCF,EAAMG,YAAYF,SAASG,eAAe,KAC1CH,SAASI,KAAKF,YAAYH,GAC1BA,EAAMM,MAAMC,WAAW,+EAGvB,IAAIC,EAAU,EAEd,SAASC,EAAaC,GACrB,IAAIC,EAAaV,SAASC,cAAc,kBACxCS,EAAWR,YAAYF,SAASG,eAAe,kBAAoBI,IACnEA,GAAoB,EAEpB,IAAII,EAAcF,EAAMG,OACpBC,EAAaF,EAAYE,WACzBC,EAAcH,EAAYI,YAE1BD,EACHD,EAAWG,aAAaN,EAAYI,GAEpCD,EAAWX,YAAYQ,GAKzB,SAASO,EAAQC,GACXA,EAAQC,QACZD,EAAQC,OAAQ,EAChBD,EAAQE,iBAAiB,QAASZ,IAKpC,SAASa,EAASH,GACjBD,EAAQC,GAITI,OAAOC,GAAG,gCAAiCN,GAC3CK,OAAOC,GAAG,8BAA+BF,GAGzCrB,SAASwB,iBAAiB,kBAAkBC,QAAQ,SAAUP,GAC7DG,EAASH,KA7CX","file":"custom-element.min.js","sourcesContent":["'use strict';\n\n(function () {\n\t// GLOBAL STYLES\n\tvar style = document.createElement('style');\n\tstyle.appendChild(document.createTextNode('')); // WebKit hack :(\n\tdocument.head.appendChild(style);\n\tstyle.sheet.insertRule('\\n\\t\\tCUSTOM-ELEMENT {\\n\\t\\t\\tcolor: red;\\n\\t\\t\\tdisplay: block;\\n\\t\\t}\\n\\t');\n\n\t// SHARED RESOURCES\n\tvar counter = 0;\n\n\tfunction clickHandler(event) {\n\t\tvar newElement = document.createElement('CUSTOM-ELEMENT');\n\t\tnewElement.appendChild(document.createTextNode('CUSTOM-ELEMENT-' + counter));\n\t\tcounter = counter + 1;\n\n\t\tvar currentNode = event.target;\n\t\tvar parentNode = currentNode.parentNode;\n\t\tvar siblingNode = currentNode.nextSibling;\n\n\t\tif (siblingNode) {\n\t\t\tparentNode.insertBefore(newElement, siblingNode);\n\t\t} else {\n\t\t\tparentNode.appendChild(newElement);\n\t\t}\n\t}\n\n\t// CREATE ELEMENT THROUGH DOCUMENT.CREATEELEMENT\n\tfunction created(element) {\n\t\tif (!element.ready) {\n\t\t\telement.ready = true;\n\t\t\telement.addEventListener('click', clickHandler);\n\t\t}\n\t}\n\n\t// APPEND ELEMENT\n\tfunction appended(element) {\n\t\tcreated(element);\n\t}\n\n\t// OBSERVER\n\twindow.on('elementcreated:CUSTOM-ELEMENT', created);\n\twindow.on('elementadded:CUSTOM-ELEMENT', appended);\n\n\t// INITIALIZE EXISTING ELEMENTS\n\tdocument.querySelectorAll('CUSTOM-ELEMENT').forEach(function (element) {\n\t\tappended(element);\n\t});\n})();"]}